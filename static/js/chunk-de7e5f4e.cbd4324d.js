(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de7e5f4e"],{"13d9":function(t,e,a){},"20f9":function(t,e,a){},"34eb":function(t,e,a){"use strict";a("13d9")},"5bb7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-list-container"},[a("SearchBox",{attrs:{categoryData:t.categoryList},on:{submit:t.handleSubmit}}),a("el-button",{staticClass:"add-product-btn",attrs:{type:"primary"}},[a("router-link",{attrs:{to:{name:"AddGoods"}}},[t._v("添加商品")])],1),a("Table",{attrs:{tableData:t.tableListData,pages:t.pages},on:{currentPage:t.handleCurrentChange,prevClick:t.handlePrevClick,nextClick:t.handleNextClick,edit:t.handleEdit,delete:t.handleDelete}})],1)},r=[],c=a("5530"),o=a("1da1"),i=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-box-container"},[a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.formData}},[a("el-form-item",{attrs:{label:"检索关键字"}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:t.formData.searchWord,callback:function(e){t.$set(t.formData,"searchWord",e)},expression:"formData.searchWord"}})],1),a("el-form-item",{attrs:{label:"商品类目"}},[a("el-select",{attrs:{placeholder:"请选择商品类目"},model:{value:t.formData.category,callback:function(e){t.$set(t.formData,"category",e)},expression:"formData.category"}},t._l(t.categoryData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("搜索")])],1)],1)],1)}),s=[],l={data:function(){return{formData:{searchWord:"",category:""}}},props:["categoryData"],created:function(){},methods:{handleSubmit:function(){this.$emit("submit",this.formData)}}},u=l,d=(a("34eb"),a("2877")),f=Object(d["a"])(u,i,s,!1,null,"40b8cfc6",null),h=f.exports,b=a("f4f7"),g=a("c405"),m=a("c4c8"),p={data:function(){return{categoryList:[],tableListData:[],searchData:{},categoryObj:{},pages:{currentPage:1,pageSize:10,total:1}}},components:{SearchBox:h,Table:b["a"]},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["a"])();case 2:a=e.sent,t.categoryList=a.data.data,a.data.data.forEach((function(e){t.categoryObj[e.id]=e})),t.getTableData();case 6:case"end":return e.stop()}}),e)})))()},methods:{handleSubmit:function(t){this.searchData=t,this.getTableData()},getTableData:function(){var t=this;Object(m["e"])(Object(c["a"])({page:this.pages.currentPage,size:this.pages.pageSize},this.searchData)).then((function(e){t.pages.total=e.data.total,t.tableListData=e.data.data.map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{categoryName:t.categoryObj[e.category]?t.categoryObj[e.category].name:""})}))}))},handleCurrentChange:function(t){this.pages.currentPage=t,this.getTableData()},handlePrevClick:function(){this.pages.currentPage-=1},handleNextClick:function(){this.pages.currentPage+=1},handleEdit:function(t){this.$router.push({name:"EditGood",params:{id:t.id}})},handleDelete:function(t){var e=this;this.$confirm("请确认是否删除？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(m["b"])(t.id).then((function(){e.getTableData(),e.$message({type:"success",message:"删除成功!"})}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))}}},D=p,y=(a("d191"),Object(d["a"])(D,n,r,!1,null,"3129f226",null));e["default"]=y.exports},d191:function(t,e,a){"use strict";a("20f9")}}]);